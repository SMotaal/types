{"version":3,"file":"debug.js","sources":["../../../markup/packages/matcher/lib/debug.js"],"sourcesContent":["ï»¿// @ts-check\n/// <reference path=\"./types.d.ts\" />\n\n/** @param {Matcher} matcher @param {string} sourceText @param {MatcherDebugOptions} [options] */\nexport const debugMatcher = (matcher, sourceText, options = {}) => (\n  ({timing: options.timing = false} = options),\n  debugMatcher.matches(debugMatcher.matchAll(matcher, sourceText, options), options)\n);\n\n/** @param {Matcher} matcher @param {string} sourceText @param {MatcherDebugOptions} [options] */\ndebugMatcher.matchAll = (matcher, sourceText, options = {}) => {\n  const {timing = false} = options;\n  const stamp = `${(timing === true && `-${Date.now()}`) || timing || ''}`;\n  timing && console.time(`matching${stamp}`);\n  // @ts-ignore\n  // TODO: Find a cleaner way to reference RegExp.prototype[Symbol.matchAll]\n  options.matches = [\n    ...matcher.constructor['matchAll']((options.sourceText = sourceText), (options.matcher = matcher)),\n  ];\n  timing && console.timeEnd(`matching${stamp}`);\n  return options.matches;\n};\n\n/** @param {MatcherMatch[]} matches @param {MatcherDebugOptions} options */\ndebugMatcher.matches = (matches, options = {}) => {\n  const {\n    method = 'log',\n    timing = false,\n    warnings = true,\n    matcher,\n    // @ts-ignore\n    colors = (matcher && matcher.colors) || debugMatcher.colors,\n    logs = [],\n\n    uniqueTypes = matcher &&\n      // @ts-ignore\n      matcher.entities && [...new Set(matcher.entities.filter(entity => typeof entity === 'string'))],\n  } = options;\n  const stamp = `${(timing === true && `-${Date.now()}`) || timing || ''}`;\n\n  timing && console.time(`printing${stamp}`);\n\n  const INITIAL = method === 'render' ? '' : RESET_STYLE;\n\n  const {DELIMITER = 'DELIMITER?', UNKNOWN = 'UNKNOWN?', INSET = 'INSET?'} = /** @type {*} */ (matcher);\n\n  try {\n    let format;\n    let lastIndex = -1;\n    for (const match of matches) {\n      if (!match) continue;\n      format = '';\n      const {0: string, index, identity, entity, capture, meta, input, ...properties} = match;\n      // @ts-ignore\n      let {[DELIMITER]: delimiter, [UNKNOWN]: unknown, [INSET]: inset} = capture;\n      const values = [];\n      // @ts-ignore\n      const delta = (properties.index = index) - (properties.lastIndex = lastIndex);\n      // @ts-ignore\n      const skipped = (properties.skipped = lastIndex > 0 &&\n        delta > 1 && {index, lastIndex, delta, text: input.slice(lastIndex, index) || ''});\n\n      format = '';\n\n      if (skipped && skipped.text.length) {\n        const {text, ...indices} = skipped;\n        const details = CSS.escape(\n          JSON.stringify(indices)\n            .replace(/\"/g, '')\n            .replace(/\\s*\\n\\s*/, ' ')\n            .slice(1, -1),\n        );\n        values.push(\n          // @ts-ignore\n          ...(skipped.lines = text.replace(/^\\n/, '').split(/\\n/)).flatMap((line, index) => [\n            `${INITIAL} color: coral;`,\n            index ? `\\n${SEGMENT_MARGIN}` : `${'skipped'.padStart(SEGMENT_MARGIN.length - 1)}\\u{00A0}`,\n            `${INITIAL} border: 0 solid coral; border-left-width: 1.5px; border-right-width: 1.5px; color: coral;  background: #FFFAFA; --details: \"${details}\";`,\n            line,\n          ]),\n          INITIAL,\n        ),\n          // @ts-ignore\n          (format += `${`%c%s%c%s`.repeat(skipped.lines.length)}%c\\0`);\n\n        logs.push([method, [format, ...values.splice(0, values.length)]]);\n        format = '';\n      }\n\n      // @ts-ignore\n      unknown !== undefined && (properties.unknown = unknown);\n      // @ts-ignore\n      delimiter !== undefined && (properties.delimiter = delimiter);\n\n      // @ts-ignore\n      const overlap = (properties.overlap = (delta < 0 && string.slice(0, 1 - delta)) || '');\n      overlap && warnings && logs.push(['warn', ['overlap:', {overlap, delta, match, index, lastIndex}]]);\n\n      const color = !identity\n        ? //\n          // @ts-ignore\n          colors.unknown || COLORS.unknown\n        : identity in colors\n        ? colors[identity]\n        : colors[((uniqueTypes && identity && uniqueTypes.indexOf(identity)) || entity || 0) % colors.length];\n\n      const details = CSS.escape(\n        JSON.stringify({properties, capture}, null, 1)\n          .replace(/^(\\s*)\"(.*?)\":/gm, '$1$2:')\n          // .replace(/\\s*\\n\\s*/g, ' ')\n          .slice(2, -2),\n      );\n\n      {\n        let lines, lineFormat;\n        if (inset) {\n          const start = (inset && inset.length) || 0;\n          const end = (delimiter && -delimiter.length) || undefined;\n          lines = string.slice(start, end).split(`\\n${inset || ''}`);\n          inset = (inset && (method !== 'render' ? inset.replace(/ /g, SPACE).replace(/\\t/g, TAB) : inset)) || '';\n          lineFormat = `%c%s%c%s%c`;\n          values.push(\n            ...lines.flatMap((line, index) => [\n              `${INITIAL} /* border: 1px solid ${color}90; */ color: ${color};${(!index &&\n                ` --color: ${color}; --details: \"${details}\";`) ||\n                ''}`,\n              `${INITIAL} border: 1px solid ${color}90; background: ${color}EE; color: white; font-weight: 300;`,\n              inset || '\\u200D',\n              `${INITIAL} border: 1px solid ${color}90; color: ${color}90; background: ${color}11; font-weight: 500; text-shadow: 0 0 0 #999F;`,\n              line || '\\u200D',\n              INITIAL,\n            ]),\n          );\n        } else {\n          lines = string.slice(0, (delimiter && -delimiter.length) || undefined).split(/\\n|\\r\\n/g);\n          lineFormat = `%c%s%c`;\n          values.push(\n            ...lines.flatMap((line, index) => [\n              `${INITIAL} /* border: 1px solid ${color}90; */ color: ${color};${(!index &&\n                ` --color: ${color}; --details: \"${details}\";`) ||\n                ''}`,\n              `${INITIAL} border: 1px solid ${color}90; color: ${color}90; background: ${color}11; font-weight: 500; text-shadow: 0 0 0 #999F;`,\n              line || '\\u200D',\n              INITIAL,\n            ]),\n          );\n        }\n        // @ts-ignore\n        format += `%c${identity.padStart(\n          SEGMENT_MARGIN.length - 1,\n        )}\\u{00A0}${lineFormat}${`%c\\n${SEGMENT_MARGIN}${lineFormat}`.repeat(lines.length - 1)}`;\n\n        (delimiter =\n          (delimiter && (method !== 'render' ? delimiter.replace(/ /g, SPACE).replace(/\\t/g, TAB) : delimiter)) || ''),\n          values.push(\n            `${INITIAL} border: 1px solid ${color}90; background: ${color}EE; color: white; font-weight: 300;\"`,\n            delimiter || '\\u200D',\n            INITIAL,\n          ),\n          (format += `%c%s%c`);\n      }\n\n      logs.push([\n        method,\n        [\n          `${format}`.trimRight(),\n          ...values.splice(0, values.length),\n          //{string, identity, meta, capture, match}\n        ],\n      ]);\n\n      lastIndex = index + string.length;\n    }\n  } catch (exception) {\n    if (!warnings) throw (exception.stack, exception);\n    else logs.push(['warn', [exception]]);\n  }\n  timing && console.timeEnd(`printing${stamp}`);\n\n  // debugger;\n\n  return render[method === 'render' ? 'output' : 'console'](...logs);\n};\n\nconst SEGMENT_MARGIN = `\\u{00A0}`.repeat(10);\nconst RESET_STYLE = 'font-family: monospace; padding: 1px 0; margin: 1px 0; line-height: 1.75em;';\nconst SPACE = `\\u{2423}`;\nconst TAB = `\\u{2192}`;\nconst FORMATTING = /(.*?)(%c|%s|%d|%[\\d\\.]*f|%o|%O|$)/g;\n\nconst COLORS = (debugMatcher.colors = ['#CCCC00', '#00CCCC', '#CC00CC', '#FF6600', '#00FF66', '#6600FF']);\n\nCOLORS: {\n  // @ts-ignore\n  COLORS.empty = '#FF3333';\n  // @ts-ignore\n  COLORS.feed = '#3333FF';\n  // @ts-ignore\n  COLORS.sequence = '#33FF33';\n  // @ts-ignore\n  COLORS.unknown = '#FF00FF';\n}\n\nconst render = (format, ...values) => {\n  const spans = [];\n\n  FORMATTING.lastIndex = null;\n  if (typeof format === 'string' && FORMATTING.test(format)) {\n    FORMATTING.lastIndex = null;\n    let i = 0;\n    let span;\n    const push = text => (span ? span.push(text) : spans.push(text));\n    const roll = () => (span && spans.push(render.span(span.style, ...span)), (span = undefined));\n    // @ts-ignore\n    for (const [, pre, formatting = '%O'] of format.matchAll(FORMATTING)) {\n      const value = values[i++];\n      pre && push(render.pre(pre));\n      switch (formatting.slice(-1)) {\n        case 'c':\n          roll();\n          span = [];\n          // @ts-ignore\n          span.style = value;\n          break;\n        case 's':\n          push(render.string(value));\n          break;\n        default:\n          push(render.object(value));\n          break;\n      }\n    }\n  }\n\n  return `<pre>${spans.join('')}</pre>`;\n};\n\nrender: {\n  render.pre = value => `<span class=\"pre\">${value}</span>`;\n  render.string = value => `<span class=\"string\">${`${value}`.replace(/\\t/g, '<tt class=\"tab\">$&</tt>')}</span>`;\n  render.object = value => `<span class=\"object\">${JSON.stringify(value)}</span>`;\n  render.span = (style, ...content) => `<span class=\"span\" style='${style || ''}'>${content.join('\\u00A0')}</span>`;\n  render.output = (...logs) => logs.flatMap(render.output.entry);\n  render.output.entry = ([method, args]) => (method ? render(...args) : []);\n  render.console = (...logs) => void logs.map(render.console.entry);\n  render.console.entry = ([method, args]) => void (method in console && Reflect.apply(console[method], console, args));\n}\n\n/** @typedef {MatcherDebugOptions} Options */\n/** @typedef {MatcherDebugOptions.InternalDebugOptions} InternalOptions */\n/** @typedef {MatcherDebugOptions.ExternalOptions} ExternalOptions */\n"],"names":[],"mappings":"AAAC;;;;AAID,AAAY,MAAC,YAAY,GAAG,CAAC,OAAO,EAAE,UAAU,EAAE,OAAO,GAAG,EAAE;EAC5D,CAAC,CAAC,MAAM,EAAE,OAAO,CAAC,MAAM,GAAG,KAAK,CAAC,GAAG,OAAO;EAC3C,YAAY,CAAC,OAAO,CAAC,YAAY,CAAC,QAAQ,CAAC,OAAO,EAAE,UAAU,EAAE,OAAO,CAAC,EAAE,OAAO,CAAC;AACpF,CAAC,CAAC;;;AAGF,YAAY,CAAC,QAAQ,GAAG,CAAC,OAAO,EAAE,UAAU,EAAE,OAAO,GAAG,EAAE,KAAK;EAC7D,MAAM,CAAC,MAAM,GAAG,KAAK,CAAC,GAAG,OAAO,CAAC;EACjC,MAAM,KAAK,GAAG,CAAC,EAAE,CAAC,MAAM,KAAK,IAAI,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,KAAK,MAAM,IAAI,EAAE,CAAC,CAAC,CAAC;EACzE,MAAM,IAAI,OAAO,CAAC,IAAI,CAAC,CAAC,QAAQ,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC;;;EAG3C,OAAO,CAAC,OAAO,GAAG;IAChB,GAAG,OAAO,CAAC,WAAW,CAAC,UAAU,CAAC,EAAE,OAAO,CAAC,UAAU,GAAG,UAAU,IAAI,OAAO,CAAC,OAAO,GAAG,OAAO,EAAE;GACnG,CAAC;EACF,MAAM,IAAI,OAAO,CAAC,OAAO,CAAC,CAAC,QAAQ,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC;EAC9C,OAAO,OAAO,CAAC,OAAO,CAAC;CACxB,CAAC;;;AAGF,YAAY,CAAC,OAAO,GAAG,CAAC,OAAO,EAAE,OAAO,GAAG,EAAE,KAAK;EAChD,MAAM;IACJ,MAAM,GAAG,KAAK;IACd,MAAM,GAAG,KAAK;IACd,QAAQ,GAAG,IAAI;IACf,OAAO;;IAEP,MAAM,GAAG,CAAC,OAAO,IAAI,OAAO,CAAC,MAAM,KAAK,YAAY,CAAC,MAAM;IAC3D,IAAI,GAAG,EAAE;;IAET,WAAW,GAAG,OAAO;;MAEnB,OAAO,CAAC,QAAQ,IAAI,CAAC,GAAG,IAAI,GAAG,CAAC,OAAO,CAAC,QAAQ,CAAC,MAAM,CAAC,MAAM,IAAI,OAAO,MAAM,KAAK,QAAQ,CAAC,CAAC,CAAC;GAClG,GAAG,OAAO,CAAC;EACZ,MAAM,KAAK,GAAG,CAAC,EAAE,CAAC,MAAM,KAAK,IAAI,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,KAAK,MAAM,IAAI,EAAE,CAAC,CAAC,CAAC;;EAEzE,MAAM,IAAI,OAAO,CAAC,IAAI,CAAC,CAAC,QAAQ,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC;;EAE3C,MAAM,OAAO,GAAG,MAAM,KAAK,QAAQ,GAAG,EAAE,GAAG,WAAW,CAAC;;EAEvD,MAAM,CAAC,SAAS,GAAG,YAAY,EAAE,OAAO,GAAG,UAAU,EAAE,KAAK,GAAG,QAAQ,CAAC,qBAAqB,OAAO,CAAC,CAAC;;EAEtG,IAAI;IACF,IAAI,MAAM,CAAC;IACX,IAAI,SAAS,GAAG,CAAC,CAAC,CAAC;IACnB,KAAK,MAAM,KAAK,IAAI,OAAO,EAAE;MAC3B,IAAI,CAAC,KAAK,EAAE,SAAS;MACrB,MAAM,GAAG,EAAE,CAAC;MACZ,MAAM,CAAC,CAAC,EAAE,MAAM,EAAE,KAAK,EAAE,QAAQ,EAAE,MAAM,EAAE,OAAO,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,UAAU,CAAC,GAAG,KAAK,CAAC;;MAExF,IAAI,CAAC,CAAC,SAAS,GAAG,SAAS,EAAE,CAAC,OAAO,GAAG,OAAO,EAAE,CAAC,KAAK,GAAG,KAAK,CAAC,GAAG,OAAO,CAAC;MAC3E,MAAM,MAAM,GAAG,EAAE,CAAC;;MAElB,MAAM,KAAK,GAAG,CAAC,UAAU,CAAC,KAAK,GAAG,KAAK,KAAK,UAAU,CAAC,SAAS,GAAG,SAAS,CAAC,CAAC;;MAE9E,MAAM,OAAO,IAAI,UAAU,CAAC,OAAO,GAAG,SAAS,GAAG,CAAC;QACjD,KAAK,GAAG,CAAC,IAAI,CAAC,KAAK,EAAE,SAAS,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,CAAC,KAAK,CAAC,SAAS,EAAE,KAAK,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;;MAErF,MAAM,GAAG,EAAE,CAAC;;MAEZ,IAAI,OAAO,IAAI,OAAO,CAAC,IAAI,CAAC,MAAM,EAAE;QAClC,MAAM,CAAC,IAAI,EAAE,GAAG,OAAO,CAAC,GAAG,OAAO,CAAC;QACnC,MAAM,OAAO,GAAG,GAAG,CAAC,MAAM;UACxB,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC;aACpB,OAAO,CAAC,IAAI,EAAE,EAAE,CAAC;aACjB,OAAO,CAAC,UAAU,EAAE,GAAG,CAAC;aACxB,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;SAChB,CAAC;QACF,MAAM,CAAC,IAAI;;UAET,GAAG,CAAC,OAAO,CAAC,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE,OAAO,CAAC,CAAC,IAAI,EAAE,KAAK,KAAK;YAChF,CAAC,EAAE,OAAO,CAAC,cAAc,CAAC;YAC1B,KAAK,GAAG,CAAC,EAAE,EAAE,cAAc,CAAC,CAAC,GAAG,CAAC,EAAE,SAAS,CAAC,QAAQ,CAAC,cAAc,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,QAAQ,CAAC;YAC1F,CAAC,EAAE,OAAO,CAAC,6HAA6H,EAAE,OAAO,CAAC,EAAE,CAAC;YACrJ,IAAI;WACL,CAAC;UACF,OAAO;SACR;;WAEE,MAAM,IAAI,CAAC,EAAE,CAAC,QAAQ,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;;QAE/D,IAAI,CAAC,IAAI,CAAC,CAAC,MAAM,EAAE,CAAC,MAAM,EAAE,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,EAAE,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;QAClE,MAAM,GAAG,EAAE,CAAC;OACb;;;MAGD,OAAO,KAAK,SAAS,KAAK,UAAU,CAAC,OAAO,GAAG,OAAO,CAAC,CAAC;;MAExD,SAAS,KAAK,SAAS,KAAK,UAAU,CAAC,SAAS,GAAG,SAAS,CAAC,CAAC;;;MAG9D,MAAM,OAAO,IAAI,UAAU,CAAC,OAAO,GAAG,CAAC,KAAK,GAAG,CAAC,IAAI,MAAM,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,KAAK,EAAE,CAAC,CAAC;MACvF,OAAO,IAAI,QAAQ,IAAI,IAAI,CAAC,IAAI,CAAC,CAAC,MAAM,EAAE,CAAC,UAAU,EAAE,CAAC,OAAO,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;;MAEpG,MAAM,KAAK,GAAG,CAAC,QAAQ;;;UAGnB,MAAM,CAAC,OAAO,IAAI,MAAM,CAAC,OAAO;UAChC,QAAQ,IAAI,MAAM;UAClB,MAAM,CAAC,QAAQ,CAAC;UAChB,MAAM,CAAC,CAAC,CAAC,WAAW,IAAI,QAAQ,IAAI,WAAW,CAAC,OAAO,CAAC,QAAQ,CAAC,KAAK,MAAM,IAAI,CAAC,IAAI,MAAM,CAAC,MAAM,CAAC,CAAC;;MAExG,MAAM,OAAO,GAAG,GAAG,CAAC,MAAM;QACxB,IAAI,CAAC,SAAS,CAAC,CAAC,UAAU,EAAE,OAAO,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC;WAC3C,OAAO,CAAC,kBAAkB,EAAE,OAAO,CAAC;;WAEpC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;OAChB,CAAC;;MAEF;QACE,IAAI,KAAK,EAAE,UAAU,CAAC;QACtB,IAAI,KAAK,EAAE;UACT,MAAM,KAAK,GAAG,CAAC,KAAK,IAAI,KAAK,CAAC,MAAM,KAAK,CAAC,CAAC;UAC3C,MAAM,GAAG,GAAG,CAAC,SAAS,IAAI,CAAC,SAAS,CAAC,MAAM,KAAK,SAAS,CAAC;UAC1D,KAAK,GAAG,MAAM,CAAC,KAAK,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE,EAAE,KAAK,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC;UAC3D,KAAK,GAAG,CAAC,KAAK,KAAK,MAAM,KAAK,QAAQ,GAAG,KAAK,CAAC,OAAO,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC,OAAO,CAAC,KAAK,EAAE,GAAG,CAAC,GAAG,KAAK,CAAC,KAAK,EAAE,CAAC;UACxG,UAAU,GAAG,CAAC,UAAU,CAAC,CAAC;UAC1B,MAAM,CAAC,IAAI;YACT,GAAG,KAAK,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,KAAK,KAAK;cAChC,CAAC,EAAE,OAAO,CAAC,sBAAsB,EAAE,KAAK,CAAC,cAAc,EAAE,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,KAAK;gBACvE,CAAC,UAAU,EAAE,KAAK,CAAC,cAAc,EAAE,OAAO,CAAC,EAAE,CAAC;gBAC9C,EAAE,CAAC,CAAC;cACN,CAAC,EAAE,OAAO,CAAC,mBAAmB,EAAE,KAAK,CAAC,gBAAgB,EAAE,KAAK,CAAC,mCAAmC,CAAC;cAClG,KAAK,IAAI,QAAQ;cACjB,CAAC,EAAE,OAAO,CAAC,mBAAmB,EAAE,KAAK,CAAC,WAAW,EAAE,KAAK,CAAC,gBAAgB,EAAE,KAAK,CAAC,+CAA+C,CAAC;cACjI,IAAI,IAAI,QAAQ;cAChB,OAAO;aACR,CAAC;WACH,CAAC;SACH,MAAM;UACL,KAAK,GAAG,MAAM,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,SAAS,IAAI,CAAC,SAAS,CAAC,MAAM,KAAK,SAAS,CAAC,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC;UACzF,UAAU,GAAG,CAAC,MAAM,CAAC,CAAC;UACtB,MAAM,CAAC,IAAI;YACT,GAAG,KAAK,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,KAAK,KAAK;cAChC,CAAC,EAAE,OAAO,CAAC,sBAAsB,EAAE,KAAK,CAAC,cAAc,EAAE,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,KAAK;gBACvE,CAAC,UAAU,EAAE,KAAK,CAAC,cAAc,EAAE,OAAO,CAAC,EAAE,CAAC;gBAC9C,EAAE,CAAC,CAAC;cACN,CAAC,EAAE,OAAO,CAAC,mBAAmB,EAAE,KAAK,CAAC,WAAW,EAAE,KAAK,CAAC,gBAAgB,EAAE,KAAK,CAAC,+CAA+C,CAAC;cACjI,IAAI,IAAI,QAAQ;cAChB,OAAO;aACR,CAAC;WACH,CAAC;SACH;;QAED,MAAM,IAAI,CAAC,EAAE,EAAE,QAAQ,CAAC,QAAQ;UAC9B,cAAc,CAAC,MAAM,GAAG,CAAC;SAC1B,CAAC,QAAQ,EAAE,UAAU,CAAC,EAAE,CAAC,IAAI,EAAE,cAAc,CAAC,EAAE,UAAU,CAAC,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;;QAEzF,CAAC,SAAS;UACR,CAAC,SAAS,KAAK,MAAM,KAAK,QAAQ,GAAG,SAAS,CAAC,OAAO,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC,OAAO,CAAC,KAAK,EAAE,GAAG,CAAC,GAAG,SAAS,CAAC,KAAK,EAAE;UAC3G,MAAM,CAAC,IAAI;YACT,CAAC,EAAE,OAAO,CAAC,mBAAmB,EAAE,KAAK,CAAC,gBAAgB,EAAE,KAAK,CAAC,oCAAoC,CAAC;YACnG,SAAS,IAAI,QAAQ;YACrB,OAAO;WACR;WACA,MAAM,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;OACxB;;MAED,IAAI,CAAC,IAAI,CAAC;QACR,MAAM;QACN;UACE,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,SAAS,EAAE;UACvB,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,EAAE,MAAM,CAAC,MAAM,CAAC;;SAEnC;OACF,CAAC,CAAC;;MAEH,SAAS,GAAG,KAAK,GAAG,MAAM,CAAC,MAAM,CAAC;KACnC;GACF,CAAC,OAAO,SAAS,EAAE;IAClB,IAAI,CAAC,QAAQ,EAAE,OAAO,SAAS,CAAC,KAAK,EAAE,SAAS,EAAE;SAC7C,IAAI,CAAC,IAAI,CAAC,CAAC,MAAM,EAAE,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;GACvC;EACD,MAAM,IAAI,OAAO,CAAC,OAAO,CAAC,CAAC,QAAQ,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC;;;;EAI9C,OAAO,MAAM,CAAC,MAAM,KAAK,QAAQ,GAAG,QAAQ,GAAG,SAAS,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC;CACpE,CAAC;;AAEF,MAAM,cAAc,GAAG,CAAC,QAAQ,CAAC,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;AAC7C,MAAM,WAAW,GAAG,6EAA6E,CAAC;AAClG,MAAM,KAAK,GAAG,CAAC,QAAQ,CAAC,CAAC;AACzB,MAAM,GAAG,GAAG,CAAC,QAAQ,CAAC,CAAC;AACvB,MAAM,UAAU,GAAG,oCAAoC,CAAC;;AAExD,MAAM,MAAM,IAAI,YAAY,CAAC,MAAM,GAAG,CAAC,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,CAAC,CAAC,CAAC;;AAE1G,AAAO,CAAC;;EAEN,MAAM,CAAC,KAAK,GAAG,SAAS,CAAC;;EAEzB,MAAM,CAAC,IAAI,GAAG,SAAS,CAAC;;EAExB,MAAM,CAAC,QAAQ,GAAG,SAAS,CAAC;;EAE5B,MAAM,CAAC,OAAO,GAAG,SAAS,CAAC;CAC5B;;AAED,MAAM,MAAM,GAAG,CAAC,MAAM,EAAE,GAAG,MAAM,KAAK;EACpC,MAAM,KAAK,GAAG,EAAE,CAAC;;EAEjB,UAAU,CAAC,SAAS,GAAG,IAAI,CAAC;EAC5B,IAAI,OAAO,MAAM,KAAK,QAAQ,IAAI,UAAU,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE;IACzD,UAAU,CAAC,SAAS,GAAG,IAAI,CAAC;IAC5B,IAAI,CAAC,GAAG,CAAC,CAAC;IACV,IAAI,IAAI,CAAC;IACT,MAAM,IAAI,GAAG,IAAI,KAAK,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;IACjE,MAAM,IAAI,GAAG,OAAO,IAAI,IAAI,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,GAAG,IAAI,CAAC,CAAC,GAAG,IAAI,GAAG,SAAS,CAAC,CAAC,CAAC;;IAE9F,KAAK,MAAM,GAAG,GAAG,EAAE,UAAU,GAAG,IAAI,CAAC,IAAI,MAAM,CAAC,QAAQ,CAAC,UAAU,CAAC,EAAE;MACpE,MAAM,KAAK,GAAG,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC;MAC1B,GAAG,IAAI,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;MAC7B,QAAQ,UAAU,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;QAC1B,KAAK,GAAG;UACN,IAAI,EAAE,CAAC;UACP,IAAI,GAAG,EAAE,CAAC;;UAEV,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;UACnB,MAAM;QACR,KAAK,GAAG;UACN,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC;UAC3B,MAAM;QACR;UACE,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC;UAC3B,MAAM;OACT;KACF;GACF;;EAED,OAAO,CAAC,KAAK,EAAE,KAAK,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC;CACvC,CAAC;;AAEF,AAAO,CAAC;EACN,MAAM,CAAC,GAAG,GAAG,KAAK,IAAI,CAAC,kBAAkB,EAAE,KAAK,CAAC,OAAO,CAAC,CAAC;EAC1D,MAAM,CAAC,MAAM,GAAG,KAAK,IAAI,CAAC,qBAAqB,EAAE,CAAC,EAAE,KAAK,CAAC,CAAC,CAAC,OAAO,CAAC,KAAK,EAAE,yBAAyB,CAAC,CAAC,OAAO,CAAC,CAAC;EAC/G,MAAM,CAAC,MAAM,GAAG,KAAK,IAAI,CAAC,qBAAqB,EAAE,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,OAAO,CAAC,CAAC;EAChF,MAAM,CAAC,IAAI,GAAG,CAAC,KAAK,EAAE,GAAG,OAAO,KAAK,CAAC,0BAA0B,EAAE,KAAK,IAAI,EAAE,CAAC,EAAE,EAAE,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC;EAClH,MAAM,CAAC,MAAM,GAAG,CAAC,GAAG,IAAI,KAAK,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;EAC/D,MAAM,CAAC,MAAM,CAAC,KAAK,GAAG,CAAC,CAAC,MAAM,EAAE,IAAI,CAAC,MAAM,MAAM,GAAG,MAAM,CAAC,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC;EAC1E,MAAM,CAAC,OAAO,GAAG,CAAC,GAAG,IAAI,KAAK,KAAK,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;EAClE,MAAM,CAAC,OAAO,CAAC,KAAK,GAAG,CAAC,CAAC,MAAM,EAAE,IAAI,CAAC,KAAK,MAAM,MAAM,IAAI,OAAO,IAAI,OAAO,CAAC,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE,OAAO,EAAE,IAAI,CAAC,CAAC,CAAC;CACtH;;;;qEAIoE;;;;"}
<!DOCTYPE html>
<html checkerboard>
  <head>
    <title>Markout</title>
    <!-- <base href="/" /> -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />

    <link rel="stylesheet" href="/pholio/styles/fonts/iosevka/iosevka.css" />
    <link rel="stylesheet" href="/pholio/styles/styles.css" />
    <!-- <link rel="preload" as="style" href="/pholio/styles/styles.css" /> -->
    <link rel="preload" as="style" href="/pholio/styles/typography.css" />
    <link rel="preload" as="style" href="/pholio/styles/layouts/grids.css" />
    <link rel="preload" as="style" href="/pholio/styles/common.css" />
    <!-- <link rel="preload" as="style" href="/pholio/styles/markdown.css" /> -->
    <style>
      html {
        --shade: #6699aaf6;
      }

      html,
      body,
      body > main {
        display: grid;
        box-sizing: border-box;
        margin: 0;
      }

      body > main > script,
      body > main > style {
        display: none;
      }

      body > main > markout-content {
        opacity: 1;
        background-color: #fffffff6;
        box-shadow: 0 1px 20px -10px #000;
        box-sizing: initial;
      }
    </style>
    <script type="module" src="/browser/markout-preview.js">
      import {dynamicImport} from '../pholio/lib/import.js';
      const src = location.hash ? location.hash.slice(1) : '/markout/README.md';
      const title = src.replace(/(.*?)((?:[^/]+?[/]?){1,2})(?:\..*|)$/, '$2');

      title && (document.title = `${title} — Markout`);

      document.querySelector('markout-content').setAttribute('src', src);

      dynamicImport(
      	`../quench/${/^\?dev\b|\&dev\b/i.test(location.search) ? 'lib/browser/markout.js' : 'dist/markout.m.js'}`,
      	import.meta.url,
      );

      addEventListener('hashchange', () => location.reload());
    </script>
  </head>

  <body>
    <main>
      <markout-content></markout-content>
    </main>
  </body>
</html>
